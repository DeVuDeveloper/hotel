<h2>Room Availability Calendar</h2>

<div id="calendar"></div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: [
        <% @calendars.each do |calendar| %>
          {
            title: '<%= calendar.available ? "Available" : "Booked" %>',
            start: '<%= calendar.date %>',
            color: '<%= calendar.available ? "#00FF00" : "#FF0000" %>',
          },
        <% end %>
      ]
    });

    calendar.render();
  });
</script>